@model List<IGrouping<string, comandaOpe.Data.Models.Produto>>

<header>
    <nav class="navbar navbar-expand-lg rounded  navbar-light bg-white border-bottom box-shadow mb-3">

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="navbar-collapse collapse d-sm-inline-flex flex-sm-row-reverse">
            <ul class="navbar-nav mr-auto">
                <img class="nav-item" src="/images/aurelianos.png" style="width: 9%; height:9%;">
                <li class="nav-item mt-4">
                    <h2><a class="nav-link text-dark" asp-controller="Usuario" asp-action="Painel">Painel</a></h2>
                </li>
                <li class="nav-item mt-4">
                    <h2><a class="nav-link text-dark" asp-controller="Cozinha" asp-action="ListarPedidosEmAndamento">Pedidos</a></h2>
                </li>
                <li class="nav-item mt-4">
                    <h2><a class="nav-link text-dark" asp-controller="Produto" asp-action="Produto">Produtos</a></h2>
                </li>
                <li class="nav-item mt-4">
                    <h2><a class="nav-link text-dark" asp-controller="Cliente" asp-action="Cliente">Comandas</a></h2>
                </li>
                <li class="nav-item mt-4">
                    <h2><a class="nav-link text-dark" asp-controller="Estoque" asp-action="ListarEstoque">Estoque</a></h2>
                </li>
                <li class="nav-item mt-4">
                    <h2><a class="nav-link text-dark" asp-action="Logout">Logout</a></h2>
                </li>
            </ul>
        </div>
    </nav>
</header>



@if (TempData["Falha"] != null)
{
    <div class="alert alert-danger" role="alert">
        @TempData["Falha"]
    </div>
}
@if (TempData["Sucesso"] != null)
{
    <div class="alert alert-success">
        @TempData["Sucesso"]
    </div>
}

@foreach (var categoria in Model)
{
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">Categoria: @categoria.Key</th>
            </tr>
            <tr>
                <th scope="col">PRODUTO</th>
                <th scope="col">CATEGORIA</th>
                <th scope="col">VALOR</th>
                <th scope="col">QUANTIDADE </th>
                <th scope="col">OBSERVAÇÃO</th>
            </tr>
        </thead>

        <tbody>
            @foreach (var item in categoria)
            {
                <form method="post" asp-action="InserirPedido" asp-controller="Pedido">
                    <tr>
                        <td>@item.descricao</td>
                        <td>@item.categoria</td>
                        <td><name ="valor" id="valor" value="@item.preco">@item.preco</td>
                        <td><input type="number" id="quantidade" name="quantidade" required="" placeholder="Quantidade" min="1" /></td>
                        <td><input type="text" name="observacao" class="form-control" id="observacao" placeholder="Alguma observação ?" /></td>
                        <td><input name="valor" id="valor" hidden="hidden" value="@item.preco" /></td>
                        <td><input name="produtoID" id="produtoID" hidden="hidden" value="@Html.Encode(item.id)" /></td>
                        <td><input name="id_comanda_pedido" id="id_comanda_pedido" hidden="hidden" value="@Html.Encode(item.id_comanda)" /></td>

                        <td><button type="submit" class="btn btn-lg btn-primary" value="Adicionar">Adicionar</button></td>
                    </tr>
                </form>
            }
        </tbody>
    </table>
}